<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
    <title>Empire of Fire Music Studio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>ğŸµ Empire of Fire Music Studio</h1>
    </header>
    <main>
        <section id="controls">
            <h2>Recording Controls</h2>
            <button id="recordBtn" class="button">ğŸ”´ Record</button>
            <button id="stopBtn" class="button">â¹ï¸ Stop</button>
            <button id="playBtn" class="button">â–¶ï¸ Play</button>
        </section>
        <section id="live-feedback">
            <h2>ğŸ™ï¸ Live Feedback</h2>
            <div id="levelMeter" class="level-meter">
                <label>Input Level:</label>
                <div class="level-meter-container">
                    <div id="levelBar" class="level-bar"></div>
                </div>
            </div>
            <label class="monitor-control">
                <input type="checkbox" id="monitorToggle"> 
                <span>ğŸ”Š Enable Live Audio Monitoring (hear yourself)</span>
            </label>
        </section>
        <section id="visualizer-section">
            <h2>Waveform Visualizer</h2>
            <div class="visualizer-container">
                <canvas id="waveform" width="800" height="200"></canvas>
                <canvas id="autotuneOverlay" width="800" height="200"></canvas>
            </div>
            <div class="autotune-controls">
                <label>
                    <input type="checkbox" id="autotuneGuideToggle">
                    <span>ğŸµ Show Auto-Tune Target Pitch</span>
                </label>
                <div class="pitch-control">
                    <label for="targetPitch">Target Note:</label>
                    <select id="targetPitch">
                        <option value="261.63">C4 (Middle C)</option>
                        <option value="293.66">D4</option>
                        <option value="329.63">E4</option>
                        <option value="349.23">F4</option>
                        <option value="392.00">G4</option>
                        <option value="440.00" selected>A4 (440Hz)</option>
                        <option value="493.88">B4</option>
                        <option value="523.25">C5</option>
                    </select>
                    <input type="range" id="pitchFine" min="-50" max="50" value="0" step="1">
                    <span id="pitchDisplay">440.0 Hz</span>
                </div>
            </div>
        </section>
        <section id="multi-track">
            <h2>Multi-Track Display</h2>
            <div id="trackContainer">
                <!-- Dynamic Track Display Here -->
            </div>
        </section>
        <section id="file-controls">
            <h2>File Upload/Download</h2>
            <input type="file" id="fileUpload" accept="audio/*">
            <button id="uploadBtn" class="button">ğŸ“¤ Upload</button>
            <button id="downloadBtn" class="button">ğŸ’¾ Download</button>
        </section>
        <section id="effects-controls">
            <h2>Effects Controls</h2>
            <label for="effects">Choose an effect:</label>
            <select id="effects">
                <option value="reverb">Reverb</option>
                <option value="echo">Echo</option>
                <option value="compressor">Compressor</option>
            </select>
            <button id="applyEffectBtn" class="button">âœ¨ Apply Effect</button>
        </section>
        <section id="auto-tune">
            <h2>Auto-Tune Interface</h2>
            <label>
                <input type="checkbox" id="autoTuneToggle"> Enable Auto-Tune
            </label>
        </section>
        <section id="synths">
            <h2>Synthesizers</h2>
            <button id="guitarBtn" class="button">ğŸ¸ Guitar</button>
            <button id="kickBtn" class="button">ğŸ¥ Kick</button>
            <button id="snareBtn" class="button">ğŸ¥ Snare</button>
        </section>
    </main>
    <footer>
        <p>&copy; 2025 Empire of Fire Music Studio</p>
    </footer>
    
    <!-- Cordova Script -->
    <script src="cordova.js"></script>
    
    <!-- Application Scripts -->
    <script type="module" src="audio-engine.js"></script>
    <script type="module" src="effects.js"></script>
    <script type="module" src="synths.js"></script>
    <script src="visualizer.js"></script>
    <script src="app.js"></script>
</body>
</html>